<script>
    $(function () {

        $(".H3Panel").BuildPanel();
//        //构造SheetUser
        $("#divUser").SheetUser({ Editable: true, Visiable: true, GroupVisible: true, IsMultiple: true, UserVisible:true, OrgUnitVisible: true });

    });
</script>

<div class="modal animated fadeIn" id="imagepreview">
  <div class="modal-dialog">
    <div class="modal-content">
    <form ng-submit="remove(temp)">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span>
            <span class="sr-only">{{"close" | translate}}</span>
        </button>
        <h4 class="modal-title">{{"preview" | translate}}</h4>
      </div>
      <div class="modal-body" ng-show="temp.getUrl().length > 10">
        <div class="text-center">
          <img id="imagepreview-target" class="preview" alt="{{temp.model.name}}" ng-class="{'loading': temp.inprocess}">
          <span class="label label-warning" ng-show="temp.inprocess">{{'loading' | translate}} ...</span>
        </div>
        <div ng-include data-src="'error-bar'" class="clearfix"></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess">{{"close" | translate}}</button>
      </div>
      </form>
    </div>
  </div>
</div>

<div class="modal animated fadeIn" id="url-qrcode">
    <div class="modal-dialog" >
        <div class="modal-content">
            <form ng-submit="remove(temp)">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">{{"close" | translate}}</span>
                    </button>
                    <h4 class="modal-title">{{"qrcode" | translate}}</h4>
                </div>

                <div class="modal-body text-center" >
                    <div class="qrcode-tips " style="text-align: left">
                        <span>手机扫一扫快速打开， 若有多个地址请依次尝试</span>
                    </div>
                    <div id="qrcode"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess">{{"close" | translate}}</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal animated fadeIn" id="delete">
  <div class="modal-dialog">
    <div class="modal-content">
    <form ng-submit="remove(temp)">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span>
            <span class="sr-only">{{"close" | translate}}</span>
        </button>
        <h4 class="modal-title">确认框</h4>
      </div>
      <div class="modal-body">
        确定删除 <b>{{temp.model.name}}</b> ?
        <div ng-include data-src="'error-bar'" class="clearfix"></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess">取消</button>
        <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess" autofocus="autofocus">确定</button>
      </div>
      </form>
    </div>
  </div>
</div>

<div class="modal animated fadeIn" id="rename">
  <div class="modal-dialog">
    <div class="modal-content">
        <form ng-submit="rename(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span aria-hidden="true">&times;</span>
                  <span class="sr-only">{{"close" | translate}}</span>
              </button>
              <h4 class="modal-title">编辑</h4>
            </div>
            <div class="modal-body">
              <label class="radio">修改名称 <b>{{temp.model.name}}</b></label>
              <input class="form-control" ng-model="temp.tempModel.name" autofocus="autofocus">

              <div ng-include data-src="'path-selector'" class="clearfix"></div>
              <div ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess">取消</button>
              <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess">保存</button>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal animated fadeIn" id="updateFile">
    <div class="modal-dialog">
        <div class="modal-content">
            <form ng-submit="updateFile(temp)">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">{{"close" | translate}}</span>
                    </button>
                    <h4 class="modal-title">编辑</h4>
                </div>
                <div class="modal-body">
                    <label class="radio">修改名称 <b>{{temp.model.name}}</b></label>
                    <input class="form-control" ng-model="temp.tempModel.name" autofocus="autofocus">

                    <div ng-include data-src="'path-selector'" class="clearfix"></div>
                    <div ng-include data-src="'error-bar'" class="clearfix"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess">取消</button>
                    <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess">保存</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal animated fadeIn" id="copy">
  <div class="modal-dialog">
    <div class="modal-content">
        <form ng-submit="copy(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span aria-hidden="true">&times;</span>
                  <span class="sr-only">{{"close" | translate}}</span>
              </button>
              <h4 class="modal-title">{{'copy_file' | translate}}</h4>
            </div>
            <div class="modal-body">
              <label class="radio">{{'enter_new_name_for' | translate}} <b>{{temp.model.name}}</b></label>
              <input class="form-control" ng-model="temp.tempModel.name" autofocus="autofocus">

              <div ng-include data-src="'path-selector'" class="clearfix"></div>
              <div ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess">{{"cancel" | translate}}</button>
              <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess">Copy</button>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal animated fadeIn" id="compress">
  <div class="modal-dialog">
    <div class="modal-content">
        <form ng-submit="compress(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span aria-hidden="true">&times;</span>
                  <span class="sr-only">{{"close" | translate}}</span>
              </button>
              <h4 class="modal-title">{{'compress' | translate}}</h4>
            </div>
            <div class="modal-body">
              <div ng-show="temp.asyncSuccess">
                  <div class="label label-success error-msg">{{'compression_started' | translate}}</div>
              </div>
              <div ng-hide="temp.asyncSuccess">
                  <div ng-hide="config.allowedActions.compressChooseName">
                    {{'sure_to_start_compression_with' | translate}} <b>{{temp.model.name}}</b> ?
                  </div>
                  <div ng-show="config.allowedActions.compressChooseName">
                    <label class="radio">{{'enter_folder_name_for_compression' | translate}} <b>{{fileNavigator.currentPath.join('/')}}/{{temp.model.name}}</b></label>
                    <input class="form-control" ng-model="temp.tempModel.name" autofocus="autofocus">
                  </div>
              </div>

              <div ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <div ng-show="temp.asyncSuccess">
                  <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess">{{"close" | translate}}</button>
              </div>
              <div ng-hide="temp.asyncSuccess">
                  <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess">{{"cancel" | translate}}</button>
                  <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess">{{'compress' | translate}}</button>
              </div>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal animated fadeIn" id="extract" ng-init="temp.emptyName()">
  <div class="modal-dialog">
    <div class="modal-content">
        <form ng-submit="extract(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span aria-hidden="true">&times;</span>
                  <span class="sr-only">{{"close" | translate}}</span>
              </button>
              <h4 class="modal-title">{{'extract_item' | translate}}</h4>
            </div>
            <div class="modal-body">
              <div ng-show="temp.asyncSuccess">
                  <div class="label label-success error-msg">{{'extraction_started' | translate}}</div>
              </div>
              <div ng-hide="temp.asyncSuccess">
                  <label class="radio">{{'enter_folder_name_for_extraction' | translate}} <b>{{temp.model.name}}</b></label>
                  <input class="form-control" ng-model="temp.tempModel.name" autofocus="autofocus">
                  <div ng-include data-src="'path-selector'" class="clearfix"></div>
              </div>
              <div ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <div ng-show="temp.asyncSuccess">
                  <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess">{{"close" | translate}}</button>
              </div>
              <div ng-hide="temp.asyncSuccess">
                  <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess">{{"cancel" | translate}}</button>
                  <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess">{{'extract' | translate}}</button>
              </div>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal animated fadeIn" id="edit" ng-class="{'modal-fullscreen': fullscreen}">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
        <form ng-submit="edit(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span aria-hidden="true">&times;</span>
                  <span class="sr-only">{{"close" | translate}}</span>
              </button>
              <button type="button" class="close mr5" ng-click="fullscreen=!fullscreen">
                  <span>&loz;</span>
                  <span class="sr-only">{{'toggle_fullscreen' | translate}}</span>
              </button>
              <h4 class="modal-title">{{'edit_file' | translate}}</h4>
            </div>
            <div class="modal-body">
                <label class="radio">{{'file_content' | translate}}</label>
                <span class="label label-warning" ng-show="temp.inprocess">{{'loading' | translate}} ...</span>
                <textarea class="form-control code" ng-model="temp.tempModel.content" ng-show="!temp.inprocess" autofocus="autofocus"></textarea>
                <div ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess">{{'close' | translate}}</button>
              <button type="submit" class="btn btn-primary" ng-show="config.allowedActions.edit" ng-disabled="temp.inprocess">{{'edit' | translate}}</button>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal animated fadeIn" id="newfolder">
  <div class="modal-dialog">
    <div class="modal-content">
        <form ng-submit="createFolder(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span aria-hidden="true">&times;</span>
                  <span class="sr-only">{{"close" | translate}}</span>
              </button>
             <h4 class="modal-title">新建文件夹</h4>
            </div>
            <div class="modal-body">
              <label class="radio">文件夹名称</label>
              <input class="form-control" ng-model="temp.tempModel.name" autofocus="autofocus"/>
              <div data-src="'error-bar'" class="clearfix"></div>
                <div class="H3Panel">
                    <div class="row">
                        <div class="col-md-12">
                            <table>
                                <tr>
                                    <td data-lang="FunctionAcl.NewManager">权限选择</td>
                                    <td style="width: 250px;">
                                        <div id="divUser" style="width: 200px;"></div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>

                <div id="control1" class="col-md-4">
                    <div id="Control11" data-datafield="user_permission" data-type="SheetUser" class="" style="" data-orgunitvisible="true" data-groupvisible="true">

                    </div>
                </div>
            </div>

            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess">{{"cancel" | translate}}</button>
              <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess">{{'create' | translate}}</button>
            </div>
        </form>
    </div>
  </div>
</div>

<!--共享文件新建文件夹的模态框-->
<script type="text/ng-template" id="newFolder.html">
    <form class="bs-example form-horizontal" ng-submit="createFolder(temp)">
        <div class="modal-header">
            <button type="button" class="close"
                    data-dismiss="modal" aria-hidden="true" ng-click="cancel()">
                ×
            </button>
            <h4 class="modal-title" id="myModalLabel" style="color:#778CA2;">
                新建文件夹
            </h4>
        </div>
        <div class="modal-body" style="color:#778CA2;">
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">文件夹名称</div>
                <div class="col-md-8 input-group">
                    <input class="form-control" type="text" id="folderName" style="border:1px solid #d9d9d9;
background-color:transparent; border-radius: 4px;box-shadow: none;height: 32px;"
                           ng-model="temp.tempModel.name" autofocus="autofocus"/>
                </div>
            </div>
            <div class="row">
                <div class="col-md-1"></div>
                <div class="col-md-2">权限选择</div>
                <div class="col-md-8 input-group">
                    <div ui-jq="SheetUser" ui-options="WasAgentOptions" id="folderPer"
                         class="" style="" data-orgunitvisible="true" data-groupvisible="true" data-sheetusercontrol="true">
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess" ng-click="cancel();">取消</button>
            <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess">保存</button>
        </div>
    </form>

</script>

<!--共享文件上传文件权限-->
<script type="text/ng-template" id="uploadFile.html">
    <form class="bs-example form-horizontal H3Panel">
        <div class="modal-header">
            <button type="button" class="close"
                    data-dismiss="modal" aria-hidden="true" ng-click="cancel()">
                ×
            </button>
            <h4 class="modal-title" id="myModalLabel1" style="color:#778CA2;">
                上传
            </h4>
        </div>
        <!--弹框提示-->
        <div class="modal-body" style="padding-left:50px;padding-right:50px;">
            <div class="row">
                <div class="col-md-1"></div>
                <div class="col-md-10">
                    <div class="form-group" style="color:#778CA2;">
                        <div class="row" style="margin-bottom: 20px;" id="selectFile">
                            <div id="fileuploader1" jquery-upload="">选择</div>
                        </div>
                        <div class="row">
                            <div class="col-md-2 col-sm-3">权限选择</div>
                            <div class="col-md-10 col-sm-9 input-group">
                                <div ui-jq="SheetUser" ui-options="WasAgentOptions" id="uploadPer"
                                     class="" style="" data-orgunitvisible="true" data-groupvisible="true">
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <div id="extrabutton1" class="ajax-file-upload-green" ng-click="startUploadFile(temp)">开始上传</div>
        </div>
    </form>

</script>

<!--共享文件删除-->
<script type="text/ng-template" id="deleteFile.html">
    <form ng-submit="removeFile(temp)" style="color:#778CA2;">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">
                <span aria-hidden="true" ng-click="cancel();">&times;</span>
            </button>
            <h4 class="modal-title">确认框</h4>
        </div>
        <div class="modal-body">
            确定删除 <b>{{temp.model.name}}</b> ?
            <div ng-include data-src="'error-bar'" class="clearfix"></div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess" ng-click="cancel();">取消</button>
            <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess" autofocus="autofocus">确定</button>
        </div>
    </form>
</script>

<!--共享文件更新名称模态框-->
<script type="text/ng-template" id="updateFile.html">
    <form ng-submit="updateFile(temp)" class="bs-example form-horizontal">
        <div class="modal-header">
            <button type="button" class="close"
                    data-dismiss="modal" aria-hidden="true" ng-click="cancel()">
                ×
            </button>
            <h4 class="modal-title" style="color:#778CA2;">
                编辑
            </h4>
        </div>
        <div class="modal-body" style="padding-left:50px;padding-right:50px;">
            <div class="row">
                <div class="col-md-1"></div>
                <div class="col-md-10">
                    <div class="form-group" style="color:#778CA2;">
                        <div class="row" style="margin-bottom: 10px;">
                            <div class="col-md-12">修改名称<b>{{temp.model.name}}</b></div>
                        </div>
                        <div class="row" style="margin-bottom: 20px;">
                            <div class="col-md-12">
                                <input class="form-control" type="text" style="border:1px solid #d9d9d9;
    background-color:transparent; border-radius: 4px;box-shadow: none;height: 32px;"
                                       ng-model="temp.model.name" autofocus="autofocus"/>
                            </div>
                        </div>
                        <div class="row" style="margin-bottom: 20px;">
                            <div ng-include data-src="'path-selector'" class="clearfix col-md-12"></div>
                        </div>
                        <div class="row" style="margin-bottom: 10px;">
                            <div class="col-md-12">权限选择</div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div ui-jq="SheetUser" ui-options="WasAgentOptions" id="editPer"
                                     class="" style="" data-orgunitvisible="true" data-groupvisible="true">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess" ng-click="cancel();">取消</button>
            <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess">保存</button>
        </div>
    </form>
</script>

<!--编辑路径模态框-->
<script type="text/ng-template" id="editPath.html">
    <div class="modal-header">
        <button type="button" class="close"
                data-dismiss="modal" aria-hidden="true" ng-click="cancel()">
            ×
        </button>
        <h4 class="modal-title" style="color:#778CA2;">
            选择目录
        </h4>
    </div>
    <div class="modal-body" style="color:#778CA2;height:300px;overflow: auto;">
        <div ng-include="config.tplPath + '/current-folder-breadcrumb.html'"></div>
        <div ng-include="config.tplPath + '/main-table-modal.html'"></div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess" ng-click="cancel()">关闭</button>
    </div>
</script>

<!--分享文件-->
<script type="text/ng-template" id="shareFile.html">
    <div class="modal-header" style="color:#778CA2;">
        <button type="button" class="close"
                data-dismiss="modal" aria-hidden="true" ng-click="cancel()">
            ×
        </button>
        <h4 class="modal-title">
            选择目录
        </h4>
    </div>
    <div class="modal-body bs-example form-horizontal" style="color:#778CA2;">
        <div style="margin-bottom: 10px;">权限选择</div>
        <div ui-jq="SheetUser" ui-options="WasAgentOptions" id="shareFile"
             class="" style="margin-bottom: 20px;" data-orgunitvisible="true" data-groupvisible="true">
        </div>
        <div ng-include="config.tplPath + '/current-folder-permission.html'"></div>
        <div style="height:200px;overflow: auto;">
            <div ng-include="config.tplPath + '/myFiles/share-modal.html'"></div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess" ng-click="cancel()">关闭</button>
    </div>
</script>

<!--收藏文件-->
<script type="text/ng-template" id="collectFile.html">
    <div class="modal-header" style="color:#778CA2;">
        <button type="button" class="close"
                data-dismiss="modal" aria-hidden="true" ng-click="cancel()">
            ×
        </button>
        <h4 class="modal-title">
            选择目录
        </h4>
    </div>
    <div class="modal-body" style="color:#778CA2;">
        <div ng-include="config.tplPath + '/current-folder-permission.html'"></div>
        <div style="height:200px;overflow: auto;">
            <div ng-include="config.tplPath + '/collect-modal.html'"></div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess" ng-click="cancel()">关闭</button>
    </div>
</script>

<!--我的文件新建文件夹的模态框-->
<script type="text/ng-template" id="myNewFolder.html">
    <form class="bs-example form-horizontal" ng-submit="myCreateFolder(temp)">
        <div class="modal-header">
            <button type="button" class="close"
                    data-dismiss="modal" aria-hidden="true" ng-click="cancel()">
                ×
            </button>
            <h4 class="modal-title" style="color:#778CA2;">
                新建文件夹
            </h4>
        </div>
        <div class="modal-body">
            <div class="row form-group" style="color:#778CA2;">
                <div class="col-md-1"></div>
                <div class="col-md-2">文件夹名称</div>
                <div class="col-md-8 input-group" style="float: left;">
                    <input class="form-control" type="text" id="myFolderName" style="border:1px solid #d9d9d9;
background-color:transparent; border-radius: 4px;box-shadow: none;height: 32px;"
                           ng-model="temp.tempModel.name" autofocus="autofocus"/>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess" ng-click="cancel()">取消</button>
            <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess">保存</button>
        </div>
    </form>

</script>

<!--我的文件上传文件-->
<script type="text/ng-template" id="myUploadfile.html">
    <div class="modal-header">
        <button type="button" class="close"
                data-dismiss="modal" aria-hidden="true" ng-click="cancel()">
            ×
        </button>
        <h4 class="modal-title" style="color:#778CA2;">
            上传
        </h4>
    </div>
    <!--弹框提示-->
    <div class="modal-body">
        <div class="row">
            <div class="col-md-1"></div>
            <div class="col-md-10" id="selectMyFile">
                <div jquery-upload="">选择</div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="ajax-file-upload-green" ng-click="myStartUploadFile(temp)">开始上传</div>
    </div>
</script>

<!--我的文件更新名称模态框-->
<script type="text/ng-template" id="myUpdateFile.html">
    <form ng-submit="myUpdateFile(temp)" class="bs-example form-horizontal">
        <div class="modal-header">
            <button type="button" class="close"
                    data-dismiss="modal" aria-hidden="true" ng-click="cancel()">
                ×
            </button>
            <h4 class="modal-title" style="color:#778CA2;">
                编辑
            </h4>
        </div>
        <div class="modal-body" style="padding-left:50px;padding-right:50px;">
            <div class="row">
                <div class="col-md-1"></div>
                <div class="col-md-10">
                    <div class="form-group" style="color:#778CA2;">
                        <div class="row" style="margin-bottom: 20px;">
                            <div class="col-md-12">修改名称<b>{{temp.model.name}}</b></div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <input class="form-control" type="text" style="border:1px solid #d9d9d9;
    background-color:transparent; border-radius: 4px;box-shadow: none;height: 32px;"
                                       ng-model="temp.model.name" autofocus="autofocus"/>
                            </div>
                        </div>
                        <div class="row">
                            <div ng-include data-src="'path-selector'" class="clearfix col-md-12"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess" ng-click="cancel()">取消</button>
            <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess">保存</button>
        </div>
    </form>
</script>

<!--我的文件删除-->
<script type="text/ng-template" id="myDeleteFile.html">
    <form ng-submit="myRemoveFile(temp)" style="color:#778CA2;">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">
                <span aria-hidden="true" ng-click="cancel();">&times;</span>
            </button>
            <h4 class="modal-title">确认框</h4>
        </div>
        <div class="modal-body">
            确定删除 <b>{{temp.model.name}}</b> ?
            <!--<div ng-include data-src="'error-bar'" class="clearfix"></div>-->
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess" ng-click="cancel();">取消</button>
            <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess" autofocus="autofocus">确定</button>
        </div>
    </form>
</script>

<!-- 共享知识模块新建知识模态框 -->
<script type="text/ng-template" id="newFlow.html">
    <form class="bs-example form-horizontal" ng-submit="createFlow(temp)">
        <div class="modal-header">
            <button type="button" class="close"
                    data-dismiss="modal" aria-hidden="true" ng-click="cancel()">
                ×
            </button>
            <h4 class="modal-title" style="color:#778CA2;">
                新建知识
            </h4>
        </div>
        <div class="modal-body" style="color:#778CA2;">
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">名称</div>
                <div class="col-md-8 input-group">
                    <input class="form-control" type="text" id="flowName" style="border:1px solid #d9d9d9;background-color:transparent; border-radius: 4px;box-shadow: none;height: 32px;"
                    ng-model="temp.tempModel.name" autofocus="autofocus"/>
                </div>
            </div>
            <div class="row " style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">标签</div>
                <div class="col-md-8 input-group">
                    <input autocomplete="off" id="newTag" maxlength="32" class="input form-control" ng-model="temp.tempModel.tag"/>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">描述</div>
                <div class="col-md-8 input-group">
                    <textarea id="flowDes" ng-model="temp.tempModel.desc" class="form-control" rows="2" style="resize: none;"></textarea>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">开始时间</div>
                <div class="col-md-8 input-group">
                    <input id="StartTime"
                      autocomplete="off"
                      ui-jq="wdatePicker" ui-options="StartTimeOption"
                      class="input form-control"/>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">结束时间</div>
                <div class="col-md-8 input-group">
                    <input id="EndTime"
                      autocomplete="off"
                      class="input form-control"
                      ui-jq="wdatePicker" ui-options="EndTimeOption"/>
                </div>
            </div>
            <div class="row">
                <div class="col-md-1"></div>
                <div class="col-md-2">权限选择</div>
                <div class="col-md-8 input-group">
                    <div ui-jq="SheetUser" ui-options="WasAgentOptions" id="flowPermission"
                         class="" style="" data-orgunitvisible="true" data-groupvisible="true" data-sheetusercontrol="true">
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess" ng-click="cancel();">取消</button>
            <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess">保存</button>
        </div>
    </form>

</script>

<!--共享知识的更新模态框-->
<script type="text/ng-template" id="updateFlow.html">
    <form class="bs-example form-horizontal" ng-submit="updateFlow(temp)">
        <div class="modal-header">
            <button type="button" class="close"
                    data-dismiss="modal" aria-hidden="true" ng-click="cancel()">
                ×
            </button>
            <h4 class="modal-title" style="color:#778CA2;">
                编辑知识
            </h4>
        </div>
        <div class="modal-body" style="color:#778CA2;">
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">名称</div>
                <div class="col-md-8 input-group">
                    <input class="form-control" type="text" style="border:1px solid #d9d9d9;background-color:transparent; border-radius: 4px;box-shadow: none;height: 32px;"
                           ng-model="temp.model.name" autofocus="autofocus"/>
                </div>
            </div>
            <div class="row " style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">标签</div>
                <div class="col-md-8 input-group">
                    <input ng-model="temp.model.tag" id="editTag" autocomplete="off" maxlength="32" class="input form-control"/>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">描述</div>
                <div class="col-md-8 input-group">
                    <textarea ng-model="temp.model.desc" class="form-control" rows="2" style="resize: none;"></textarea>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">开始时间</div>
                <div class="col-md-8 input-group">
                    <input ng-model="temp.model.startTime"
                           autocomplete="off"
                           ui-jq="wdatePicker" ui-options="EditStartTime"
                           class="input form-control"/>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">结束时间</div>
                <div class="col-md-8 input-group">
                    <input ng-model="temp.model.endTime"
                           autocomplete="off"
                           class="input form-control"
                           ui-jq="wdatePicker" ui-options="EditEndTime" />
                </div>
            </div>
            <div class="row">
                <div class="col-md-1"></div>
                <div class="col-md-2">权限选择</div>
                <div class="col-md-8 input-group">
                    <div ui-jq="SheetUser" ui-options="WasAgentOptions" id="editFlowPer"
                         class="" style="" data-orgunitvisible="true" data-groupvisible="true" data-sheetusercontrol="true">
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess" ng-click="cancel();">取消</button>
            <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess">保存</button>
        </div>
    </form>

</script>

<!--共享知识的收藏模态框-->
<script type="text/ng-template" id="collectFlow.html">
    <form ng-submit="collectFlow(temp)" style="color:#778CA2;">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">
                <span aria-hidden="true" ng-click="cancel();">&times;</span>
            </button>
            <h4 class="modal-title">确认框</h4>
        </div>
        <div class="modal-body">
            确定收藏 <b>{{temp.model.name}}</b> ?
            <div ng-include data-src="'error-bar'" class="clearfix"></div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess" ng-click="cancel();">取消</button>
            <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess" autofocus="autofocus">确定</button>
        </div>
    </form>
</script>

<!--共享知识的删除模态框-->
<script type="text/ng-template" id="deleteFlow.html">
    <form ng-submit="removeFlow(temp)" style="color:#778CA2;">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">
                <span aria-hidden="true" ng-click="cancel();">&times;</span>
            </button>
            <h4 class="modal-title">确认框</h4>
        </div>
        <div class="modal-body">
            确定删除 <b>{{temp.model.name}}</b> ?
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess" ng-click="cancel();">取消</button>
            <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess" autofocus="autofocus">确定</button>
        </div>
    </form>
</script>

<!--共享知识的详情页-->
<script type="text/ng-template" id="detail.html">
    <form class="bs-example form-horizontal">
        <div class="modal-header">
            <button type="button" class="close"
                    data-dismiss="modal" aria-hidden="true" ng-click="cancel()">
                ×
            </button>
            <h4 class="modal-title" style="color:#778CA2;">
                详情知识
            </h4>
        </div>
        <div class="modal-body" style="color:#778CA2;">
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">名称</div>
                <div class="col-md-8 input-group">
                    <input class="form-control" readonly="readonly" type="text" style="border:1px solid #d9d9d9;background-color:transparent; border-radius: 4px;box-shadow: none;height: 32px;"
                           ng-model="temp.model.name" autofocus="autofocus"/>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">标签</div>
                <div class="col-md-8 input-group">
                    <input ng-model="temp.model.tag" readonly="readonly"
                           style="border:1px solid #d9d9d9;background-color:transparent; border-radius: 4px;box-shadow: none;height: 32px;"
                           autocomplete="off" maxlength="32" class="form-control"/>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">描述</div>
                <div class="col-md-8 input-group">
                    <!--<textarea ng-model="temp.model.desc" readonly="readonly" class="form-control" rows="2"-->
                              <!--style="resize: none;border:1px solid #d9d9d9;background-color:transparent; border-radius: 4px;box-shadow: none;height: 32px;"></textarea>-->
                    <p style="border:1px solid #d9d9d9; border-radius: 4px;box-shadow: none;color: #555;">{{temp.model.desc}}</p>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">开始时间</div>
                <div class="col-md-8 input-group">
                    <input ng-model="temp.model.startTime"
                           autocomplete="off" disabled
                           ui-jq="wdatePicker" ui-options="DeltailStartTimeOption"
                           style="border:1px solid #d9d9d9;background-color:transparent; border-radius: 4px;box-shadow: none;height: 32px;"
                           class="input form-control"/>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">结束时间</div>
                <div class="col-md-8 input-group">
                    <input ng-model="temp.model.endTime"
                           autocomplete="off" disabled
                           class="input form-control"
                           style="border:1px solid #d9d9d9;background-color:transparent; border-radius: 4px;box-shadow: none;height: 32px;"
                            />
                </div>
            </div>
            <div class="row">
                <div class="col-md-1"></div>
                <div class="col-md-2">权限</div>
                <div class="col-md-8 input-group">
                    <div ui-jq="SheetUser" ui-options="DetailOptions" id="detailFlow"
                         class="" style="border:1px solid #d9d9d9;border-radius: 4px; color: #555;" data-orgunitvisible="true" data-groupvisible="true" data-sheetusercontrol="true">
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal" ng-disabled="temp.inprocess" ng-click="cancel();">关闭</button>
        </div>
    </form>

</script>

<!--我的知识新建知识模态框-->
<script type="text/ng-template" id="newMyFlow.html">
    <form class="bs-example form-horizontal" ng-submit="createMyFlow(temp)">
        <div class="modal-header">
            <button type="button" class="close"
                    data-dismiss="modal" aria-hidden="true" ng-click="cancel()">
                ×
            </button>
            <h4 class="modal-title" style="color:#778CA2;">
                新建知识
            </h4>
        </div>
        <div class="modal-body" style="color:#778CA2;">
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">名称</div>
                <div class="col-md-8 input-group">
                    <input class="form-control" type="text" id="myFlowName" style="border:1px solid #d9d9d9;background-color:transparent; border-radius: 4px;box-shadow: none;height: 32px;"
                           ng-model="temp.tempModel.name" autofocus="autofocus"/>
                </div>
            </div>
            <div class="row " style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">标签</div>
                <div class="col-md-8 input-group">
                    <input autocomplete="off" id="newMyTag" maxlength="32" class="input form-control" ng-model="temp.tempModel.tag"/>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">描述</div>
                <div class="col-md-8 input-group">
                    <textarea id="myFlowDes" ng-model="temp.tempModel.desc" class="form-control" rows="2" style="resize: none;"></textarea>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">开始时间</div>
                <div class="col-md-8 input-group">
                    <input id="MyStartTime"
                           autocomplete="off"
                           ui-jq="wdatePicker" ui-options="StartTimeOption"
                           class="input form-control"/>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">结束时间</div>
                <div class="col-md-8 input-group">
                    <input id="MyEndTime"
                           autocomplete="off"
                           class="input form-control"
                           ui-jq="wdatePicker" ui-options="EndTimeOption"/>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess" ng-click="cancel();">取消</button>
            <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess">保存</button>
        </div>
    </form>

</script>

<!--我的知识的更新模态框-->
<script type="text/ng-template" id="updateMyFlow.html">
    <form class="bs-example form-horizontal" ng-submit="updateMyFlow(temp)">
        <div class="modal-header">
            <button type="button" class="close"
                    data-dismiss="modal" aria-hidden="true" ng-click="cancel()">
                ×
            </button>
            <h4 class="modal-title" style="color:#778CA2;">
                编辑知识
            </h4>
        </div>
        <div class="modal-body" style="color:#778CA2;">
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">名称</div>
                <div class="col-md-8 input-group">
                    <input class="form-control" type="text" style="border:1px solid #d9d9d9;background-color:transparent; border-radius: 4px;box-shadow: none;height: 32px;"
                           ng-model="temp.model.name" autofocus="autofocus"/>
                </div>
            </div>
            <div class="row " style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">标签</div>
                <div class="col-md-8 input-group">
                    <input ng-model="temp.model.tag" id="editMyTag" autocomplete="off" maxlength="32" class="input form-control"/>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">描述</div>
                <div class="col-md-8 input-group">
                    <textarea ng-model="temp.model.desc" class="form-control" rows="2" style="resize: none;"></textarea>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">开始时间</div>
                <div class="col-md-8 input-group">
                    <input ng-model="temp.model.startTime"
                           autocomplete="off"
                           ui-jq="wdatePicker" ui-options="EditStartTime"
                           class="input form-control"/>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">结束时间</div>
                <div class="col-md-8 input-group">
                    <input ng-model="temp.model.endTime"
                           autocomplete="off"
                           class="input form-control"
                           ui-jq="wdatePicker" ui-options="EditEndTime" />
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess" ng-click="cancel();">取消</button>
            <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess">保存</button>
        </div>
    </form>

</script>

<!--我的知识的分享模态框-->
<script type="text/ng-template" id="shareFlow.html">
    <form ng-submit="shareFlow(temp)" style="color:#778CA2;">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">
                <span aria-hidden="true" ng-click="cancel();">&times;</span>
            </button>
            <h4 class="modal-title">确认框</h4>
        </div>
        <div class="modal-body">
            <div class="row" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-11" style="padding:0;">确定分享<b>{{temp.model.name}}</b> ?</div>
            </div>
            <div class="row">
                <div class="col-md-1"></div>
                <div class="col-md-2">权限选择</div>
                <div class="col-md-8 input-group form-horizontal">
                    <div ui-jq="SheetUser" ui-options="WasAgentOptions" id="editMyFlowPer"
                         class="" style="" data-orgunitvisible="true" data-groupvisible="true" data-sheetusercontrol="true">
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess" ng-click="cancel();">取消</button>
            <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess" autofocus="autofocus">确定</button>
        </div>
    </form>
</script>

<!--我的知识的删除模态框-->
<script type="text/ng-template" id="deleteMyFlow.html">
    <form ng-submit="removeMyFlow(temp)" style="color:#778CA2;">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">
                <span aria-hidden="true" ng-click="cancel();">&times;</span>
            </button>
            <h4 class="modal-title">确认框</h4>
        </div>
        <div class="modal-body">
            确定删除 <b>{{temp.model.name}}</b> ?
            <div ng-include data-src="'error-bar'" class="clearfix"></div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess" ng-click="cancel();">取消</button>
            <button type="submit" class="btn btn-primary" ng-disabled="temp.inprocess" autofocus="autofocus">确定</button>
        </div>
    </form>
</script>

<!--我的知识的详情页-->
<script type="text/ng-template" id="detailMyFlow.html">
    <form class="bs-example form-horizontal">
        <div class="modal-header">
            <button type="button" class="close"
                    data-dismiss="modal" aria-hidden="true" ng-click="cancel()">
                ×
            </button>
            <h4 class="modal-title" style="color:#778CA2;">
                详情知识
            </h4>
        </div>
        <div class="modal-body" style="color:#778CA2;">
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">名称</div>
                <div class="col-md-8 input-group">
                    <input class="form-control" readonly="readonly" type="text" style="border:1px solid #d9d9d9;background-color:transparent; border-radius: 4px;box-shadow: none;height: 32px;"
                           ng-model="temp.model.name" autofocus="autofocus"/>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">标签</div>
                <div class="col-md-8 input-group">
                    <input ng-model="temp.model.tag" readonly="readonly"
                           style="border:1px solid #d9d9d9;background-color:transparent; border-radius: 4px;box-shadow: none;height: 32px;"
                           autocomplete="off" maxlength="32" class="form-control"/>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">描述</div>
                <div class="col-md-8 input-group">
                    <p style="border:1px solid #d9d9d9; border-radius: 4px;box-shadow: none;color: #555;">{{temp.model.desc}}</p>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">开始时间</div>
                <div class="col-md-8 input-group">
                    <input ng-model="temp.model.startTime"
                           autocomplete="off" disabled
                           ui-jq="wdatePicker" ui-options="DeltailStartTimeOption"
                           style="border:1px solid #d9d9d9;background-color:transparent; border-radius: 4px;box-shadow: none;height: 32px;"
                           class="input form-control"/>
                </div>
            </div>
            <div class="row form-group" style="margin-bottom: 20px;">
                <div class="col-md-1"></div>
                <div class="col-md-2">结束时间</div>
                <div class="col-md-8 input-group">
                    <input ng-model="temp.model.endTime"
                           autocomplete="off" disabled
                           class="input form-control"
                           style="border:1px solid #d9d9d9;background-color:transparent; border-radius: 4px;box-shadow: none;height: 32px;"
                    />
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal" ng-disabled="temp.inprocess" ng-click="cancel();">关闭</button>
        </div>
    </form>

</script>

<!--<div class="modal animated fadeIn" id="uploadfile">
  <div class="modal-dialog">
    <div class="modal-content">
        <form ng-submit="uploadFiles()">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span aria-hidden="true">&times;</span>
                  <span class="sr-only">{{"close" | translate}}</span>
              </button>
              <h4 class="modal-title">{{"upload_file" | translate}}</h4>
            </div>
            <div class="modal-body">
              <label class="radio">{{"files_will_uploaded_to" | translate}} <b>{{fileNavigator.currentPath.join('/')}}</b></label>
              <input type="file" class="form-control" ng-file="$parent.uploadFileList" autofocus="autofocus" multiple="multiple"/>
              <div ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <div ng-show="!fileUploader.requesting">
                  <button type="button" class="btn btn-default" data-dismiss="modal">{{"cancel" | translate}}</button>
                  <button type="submit" class="btn btn-primary" ng-disabled="!uploadFileList.length || fileUploader.requesting">{{'upload' | translate}}</button>
              </div>
              <div ng-show="fileUploader.requesting">
                  <span class="label label-warning">{{"uploading" | translate}} ...</span>
              </div>
            </div>
        </form>
    </div>
  </div>
</div>-->

<div class="modal animated fadeIn" id="uploadfile">
    <div class="modal-dialog">
        <div class="modal-content">
            <form ng-submit="uploadFiles()">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">关闭</span>
                    </button>
                    <h4 class="modal-title">上传</h4>
                </div>

                <div class="modal-body">
                    <div id="fileuploader" jquery-upload="" >选择</div>
                </div>
                <div class="modal-footer">
                    <div id="extrabutton" class="ajax-file-upload-green" ng-click="startUploadFile()">开始上传</div>
                </div>
               <!-- <div class="modal-body">
                    <label class="radio">{{"files_will_uploaded_to" | translate}} <b>{{fileNavigator.currentPath.join('/')}}</b></label>
                    <input type="file" class="form-control" ng-file="$parent.uploadFileList" autofocus="autofocus" multiple="multiple"/>
                    <div ng-include data-src="'error-bar'" class="clearfix"></div>
                </div>-->
                <!--<div class="modal-footer">
                    <div ng-show="!fileUploader.requesting">
                        <button type="button" class="btn btn-default" data-dismiss="modal">{{"cancel" | translate}}</button>
                        <button type="submit" class="btn btn-primary" ng-disabled="!uploadFileList.length || fileUploader.requesting">{{'upload' | translate}}</button>
                    </div>
                    <div ng-show="fileUploader.requesting">
                        <span class="label label-warning">{{"uploading" | translate}} ...</span>
                    </div>
                </div>-->
            </form>
        </div>
    </div>
</div>

<div class="modal animated fadeIn" id="changepermissions">
  <div class="modal-dialog">
    <div class="modal-content">
        <form ng-submit="changePermissions(temp)">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                  <span aria-hidden="true">&times;</span>
                  <span class="sr-only">{{"close" | translate}}</span>
              </button>
              <h4 class="modal-title">{{'change_permissions' | translate}}</h4>
            </div>
            <div class="modal-body">
              <table class="table mb0">
                  <thead>
                      <tr>
                          <th>{{'permissions' | translate}}</th>
                          <th class="col-xs-1 text-center">{{'exec' | translate}}</th>
                          <th class="col-xs-1 text-center">{{'read' | translate}}</th>
                          <th class="col-xs-1 text-center">{{'write' | translate}}</th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr ng-repeat="(permTypeKey, permTypeValue) in temp.tempModel.perms">
                          <td>{{permTypeKey | translate}}</td>
                          <td ng-repeat="(permKey, permValue) in permTypeValue" class="col-xs-1 text-center" ng-click="main()">
                              <label class="col-xs-12">
                                <input type="checkbox" ng-model="temp.tempModel.perms[permTypeKey][permKey]">
                              </label>
                          </td>
                      </tr>
                </tbody>
              </table>
              <div class="checkbox" ng-show="config.enablePermissionsRecursive && temp.model.type === 'dir'">
                <label>
                  <input type="checkbox" ng-model="temp.tempModel.recursive"> {{'recursive' | translate}}
                </label>
              </div>
              <div class="clearfix mt10">
                  <span class="label label-primary pull-left">
                    {{'original' | translate}}: {{temp.model.perms.toCode(temp.model.type === 'dir'?'d':'-')}} ({{temp.model.perms.toOctal()}})
                  </span>
                  <span class="label label-primary pull-right">
                    {{'changes' | translate}}: {{temp.tempModel.perms.toCode(temp.model.type === 'dir'?'d':'-')}} ({{temp.tempModel.perms.toOctal()}})
                  </span>
              </div>
              <div ng-include data-src="'error-bar'" class="clearfix"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">{{"cancel" | translate}}</button>
              <button type="submit" class="btn btn-primary" ng-disabled="">{{'change' | translate}}</button>
            </div>
        </form>
    </div>
  </div>
</div>

<div class="modal animated fadeIn" id="selector" ng-controller="ModalFileManagerCtrl">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span>
            <span class="sr-only">关闭</span>
        </button>
        <h4 class="modal-title">选择目录</h4>
      </div>
      <div class="modal-body">
        <div>
            <div ng-include="config.tplPath + '/current-folder-breadcrumb.html'"></div>
            <div ng-include="config.tplPath + '/main-table-modal.html'"></div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" ng-disabled="temp.inprocess">关闭</button>
      </div>
    </div>
  </div>
</div>

<script type="text/ng-template" id="path-selector">
  <div class="panel panel-primary mt10 mb0">
    <div class="panel-body">
        <div class="detail-sources">
          <code class="mr5"><b>原路径:</b> {{temp.model.fullPath()}}</code>
        </div>
        <div class="detail-sources">
					<!-- <code class="mr5"><b>新路径:</b>{{fileMemuTile + '/' + temp.tempModel.path.join('/')+ '/' + temp.tempModel.name}}</code> -->
					<code class="mr5"><b>新路径:</b>
						{{fileMemuTile + '/' + (temp.tempModel.path.join('/') == '' ? temp.tempModel.name : temp.tempModel.path.join('/')+ '/' + temp.tempModel.name) }}
					</code>
          <a href="" class="label label-primary" ng-click="openNavigator(temp)">更改</a>
        </div>
    </div>
  </div>
</script>
<script type="text/ng-template" id="error-bar">
    <div class="label label-danger error-msg pull-left animated fadeIn" ng-show="temp.error">
      <i class="glyphicon glyphicon-remove-circle"></i>
      <span>{{temp.error}}</span>
    </div>
</script>
